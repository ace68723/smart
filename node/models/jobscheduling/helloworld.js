var jobSchedule = require('./build/Release/jobSchedule');

var drivers = [
    {
        "did": "23",
        "available": 1433835827647,
        "location": "43.825466,-79.288094",
        "off": 1433901600000
    },
    {
        "did": "24",
        "location": "43.825466,-79.288094",
        "available": 1433835759562,
        "off": 1433901600000
    }
//{ "did": "Xunrui", "available": 1432532133879, "off": 1432532233879, "location": "43.7935476,-79.2931461" },
//{ "did": "Aiden", "available": 1432532133879, "off": 1432532223879, "location": "43.7935476,-79.2931461" }
];

var tasks = [
    {
        "tid": "0,0,43.825466,-79.288094,1433835798658",
        "location": "43.825466,-79.288094",
        "deadline": 1433839398659,
        "ready": 1433837598659,
        "depend": null,
        "did": null
    },
    {
        "tid": "43.825466,-79.288094,43.8254665,-79.2880945,1433835798659",
        "location": "43.8254665,-79.2880945",
        "deadline": 1433842998659,
        "ready": 0,
        "depend": "0,0,43.825466,-79.288094,1433835798658",
        "did": null
    },
    {
        "tid": "0,0,43.825466,-79.288094,1433835798662",
        "location": "43.825466,-79.288094",
        "deadline": 1433839398662,
        "ready": 1433837598662,
        "depend": null,
        "did": null
    },
    {
        "tid": "43.825466,-79.288094,43.8254665,-79.2880945,1433835798662",
        "location": "43.8254665,-79.2880945",
        "deadline": 1433842998662,
        "ready": 0,
        "depend": "0,0,43.825466,-79.288094,1433835798662",
        "did": null
    },
    {
        "tid": "0,0,43.825466,-79.288094,1433835807633",
        "location": "43.825466,-79.288094",
        "deadline": 1433839407633,
        "ready": 1433837607633,
        "depend": null,
        "did": null
    },
    {
        "tid": "43.825466,-79.288094,43.7743574,-79.17138090000003,1433835807633",
        "location": "43.7743574,-79.17138090000003",
        "deadline": 1433843007633,
        "ready": 0,
        "depend": "0,0,43.825466,-79.288094,1433835807633",
        "did": null
    },
    {
        "tid": "0,0,43.825466,-79.288094,1433835817596",
        "location": "43.825466,-79.288094",
        "deadline": 1433839417596,
        "ready": 1433837617596,
        "depend": null,
        "did": null
    },
    {
        "tid": "43.825466,-79.288094,43.7554171,-79.17765150000002,1433835817596",
        "location": "43.7554171,-79.17765150000002",
        "deadline": 1433843017596,
        "ready": 0,
        "depend": "0,0,43.825466,-79.288094,1433835817596",
        "did": null
    },
    {
        "tid": "0,0,43.825466,-79.288094,1433835827629",
        "location": "43.825466,-79.288094",
        "deadline": 1433839427630,
        "ready": 1433837627630,
        "depend": null,
        "did": null
    },
    {
        "tid": "43.825466,-79.288094,43.8896627,-79.29763300000002,1433835827630",
        "location": "43.8896627,-79.29763300000002",
        "deadline": 1433843027630,
        "ready": 0,
        "depend": "0,0,43.825466,-79.288094,1433835827629",
        "did": null
    },
    {
        "tid": "0,0,43.825466,-79.288094,1433835837659",
        "location": "43.825466,-79.288094",
        "deadline": 1433839437659,
        "ready": 1433837637659,
        "depend": null,
        "did": null
    },
    {
        "tid": "43.825466,-79.288094,43.89087300000001,-79.3751019,1433835837659",
        "location": "43.89087300000001,-79.3751019",
        "deadline": 1433843037659,
        "ready": 0,
        "depend": "0,0,43.825466,-79.288094,1433835837659",
        "did": null
    }
];
//[ 
//{ "tid":"order1-fetch", "location":"Chanmao Inc.", "deadline":1432519683235, "did":"", "depend":null }, 
//{ "tid":"order1-deliver", "location":"Client1", "deadline":1432519683235, "did":"", "depend":"order1-fetch" }, 
//{ "tid":"order2-deliver", "location":"Client2", "deadline":1432519683235, "did":"Aiden", "depend":"" } 
//];

var paths = [
    {
        "start": "43.7554171,-79.17765150000002",
        "end": "43.8896627,-79.29763300000002",
        "time": 2083000
    },
    {
        "start": "43.89087300000001,-79.3751019",
        "end": "43.8254665,-79.2880945",
        "time": 1081000
    },
    {
        "start": "43.7554171,-79.17765150000002",
        "end": "43.7743574,-79.17138090000003",
        "time": 420000
    },
    {
        "start": "43.7743574,-79.17138090000003",
        "end": "43.7554171,-79.17765150000002",
        "time": 389000
    },
    {
        "start": "43.89087300000001,-79.3751019",
        "end": "43.825466,-79.288094",
        "time": 1081000
    },
    {
        "start": "43.7554171,-79.17765150000002",
        "end": "43.8254665,-79.2880945",
        "time": 1423000
    },
    {
        "start": "43.8896627,-79.29763300000002",
        "end": "43.825466,-79.288094",
        "time": 902000
    },
    {
        "start": "43.7743574,-79.17138090000003",
        "end": "43.8896627,-79.29763300000002",
        "time": 1882000
    },
    {
        "start": "43.89087300000001,-79.3751019",
        "end": "43.7554171,-79.17765150000002",
        "time": 1797000
    },
    {
        "start": "43.7554171,-79.17765150000002",
        "end": "43.825466,-79.288094",
        "time": 1423000
    },
    {
        "start": "43.825466,-79.288094",
        "end": "43.8896627,-79.29763300000002",
        "time": 929000
    },
    {
        "start": "43.7743574,-79.17138090000003",
        "end": "43.825466,-79.288094",
        "time": 1322000
    },
    {
        "start": "43.89087300000001,-79.3751019",
        "end": "43.7743574,-79.17138090000003",
        "time": 1594000
    },
    {
        "start": "43.8254665,-79.2880945",
        "end": "43.7743574,-79.17138090000003",
        "time": 1206000
    },
    {
        "start": "43.89087300000001,-79.3751019",
        "end": "43.8896627,-79.29763300000002",
        "time": 716000
    },
    {
        "start": "43.8254665,-79.2880945",
        "end": "43.89087300000001,-79.3751019",
        "time": 1100000
    },
    {
        "start": "43.8896627,-79.29763300000002",
        "end": "43.89087300000001,-79.3751019",
        "time": 671000
    },
    {
        "start": "43.825466,-79.288094",
        "end": "43.7743574,-79.17138090000003",
        "time": 1206000
    },
    {
        "start": "43.8896627,-79.29763300000002",
        "end": "43.7554171,-79.17765150000002",
        "time": 2011000
    },
    {
        "start": "43.825466,-79.288094",
        "end": "43.89087300000001,-79.3751019",
        "time": 1100000
    },
    {
        "start": "43.7554171,-79.17765150000002",
        "end": "43.89087300000001,-79.3751019",
        "time": 1696000
    },
    {
        "start": "43.7743574,-79.17138090000003",
        "end": "43.89087300000001,-79.3751019",
        "time": 1595000
    },
    {
        "start": "43.7743574,-79.17138090000003",
        "end": "43.8254665,-79.2880945",
        "time": 1322000
    },
    {
        "start": "43.825466,-79.288094",
        "end": "43.8254665,-79.2880945",
        "time": 0
    },
    {
        "start": "43.8896627,-79.29763300000002",
        "end": "43.7743574,-79.17138090000003",
        "time": 1842000
    },
    {
        "start": "43.8254665,-79.2880945",
        "end": "43.825466,-79.288094",
        "time": 0
    },
    {
        "start": "43.825466,-79.288094",
        "end": "43.7554171,-79.17765150000002",
        "time": 1409000
    },
    {
        "start": "43.8254665,-79.2880945",
        "end": "43.7554171,-79.17765150000002",
        "time": 1409000
    },
    {
        "start": "43.8254665,-79.2880945",
        "end": "43.8896627,-79.29763300000002",
        "time": 929000
    },
    {
        "start": "43.8896627,-79.29763300000002",
        "end": "43.8254665,-79.2880945",
        "time": 902000
    }
];
//[ 
//{ "start":"Chanmao Inc.", "end":"Client1", "time":10},
//{ "end":"Chanmao Inc.", "start":"Client1", "time":10},
//{ "start":"Chanmao Inc.", "end":"Client2", "time":20},
//{ "end":"Chanmao Inc.", "start":"Client2", "time":20},
//{ "start":"Client1", "end":"Client2", "time":25},
//{ "end":"Client1", "start":"Client2", "time":25}
//];

function callbackFunc(str) {
	console.log(str);
}

//var d = new Date();
//var curTime = d.getTime();
var curTime = 1433835827647;
var deliLimit = 1;
//console.log(JSON.stringify({"curTime":curTime, "deliLimit":deliLimit, "drivers":drivers, "tasks":tasks, "paths":paths}));
jobSchedule.search(JSON.stringify({"curTime":curTime, "deliLimit":deliLimit, "drivers":drivers, "tasks":tasks, "paths":paths}), callbackFunc);
//console.log(jobSchedule.search(JSON.stringify({"drivers":drivers, "tasks":tasks, "paths":paths})));
